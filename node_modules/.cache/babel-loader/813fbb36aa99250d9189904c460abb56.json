{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getRouteMatcher = getRouteMatcher;\n\nvar _utils = require(\"../../utils\");\n\nfunction getRouteMatcher(routeRegex) {\n  const {\n    re,\n    groups\n  } = routeRegex;\n  return pathname => {\n    const routeMatch = re.exec(pathname);\n\n    if (!routeMatch) {\n      return false;\n    }\n\n    const decode = param => {\n      try {\n        return decodeURIComponent(param);\n      } catch (_) {\n        throw new _utils.DecodeError('failed to decode param');\n      }\n    };\n\n    const params = {};\n    Object.keys(groups).forEach(slugName => {\n      const g = groups[slugName];\n      const m = routeMatch[g.pos];\n\n      if (m !== undefined) {\n        params[slugName] = ~m.indexOf('/') ? m.split('/').map(entry => decode(entry)) : g.repeat ? [decode(m)] : decode(m);\n      }\n    });\n    return params;\n  };\n}","map":{"version":3,"sources":["../../../../../shared/lib/router/utils/route-matcher.ts"],"names":[],"mappings":";;;;;QAGgB,e,GAAA,e;;AAHY,IAAA,MAAa,GAAA,OAAA,CAAA,aAAA,CAAb;;SAGZ,e,CAAgB,U,EAA8C;AAC5E,QAAM;AAAE,IAAA,EAAF;AAAM,IAAA;AAAN,MAAiB,UAAvB;AACA,SAAQ,QAAF,IAA0C;AAC9C,UAAM,UAAU,GAAG,EAAE,CAAC,IAAH,CAAQ,QAAR,CAAnB;;AACA,QAAE,CAAG,UAAL,EAAiB;AACf,aAAO,KAAP;AACD;;AAED,UAAM,MAAM,GAAI,KAAJ,IAAsB;AAChC,UAAI;AACF,eAAO,kBAAkB,CAAC,KAAD,CAAzB;AACD,OAFD,CAEE,OAAO,CAAP,EAAU;AACV,cAAM,IAfc,MAAa,CAAA,WAe3B,CAAgB,wBAAhB,CAAN;AACD;AACF,KAND;;AAOA,UAAM,MAAM,GAA+C,EAA3D;AAEA,IAAA,MAAM,CAAC,IAAP,CAAY,MAAZ,EAAoB,OAApB,CAA6B,QAAF,IAAuB;AAChD,YAAM,CAAC,GAAG,MAAM,CAAC,QAAD,CAAhB;AACA,YAAM,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,GAAH,CAApB;;AACA,UAAI,CAAC,KAAK,SAAV,EAAqB;AACnB,QAAA,MAAM,CAAC,QAAD,CAAN,GAAe,CAAK,CAAC,CAAC,OAAF,CAAU,GAAV,CAAL,GACX,CAAC,CAAC,KAAF,CAAQ,GAAR,EAAa,GAAb,CAAkB,KAAF,IAAY,MAAM,CAAC,KAAD,CAAlC,CADW,GAEX,CAAC,CAAC,MAAF,GACA,CAAC,MAAM,CAAC,CAAD,CAAP,CADA,GAEA,MAAM,CAAC,CAAD,CAJV;AAKD;AACF,KAVD;AAWA,WAAO,MAAP;AACD,GA3BD;AA4BD","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.getRouteMatcher = getRouteMatcher;\nvar _utils = require(\"../../utils\");\nfunction getRouteMatcher(routeRegex) {\n    const { re , groups  } = routeRegex;\n    return (pathname)=>{\n        const routeMatch = re.exec(pathname);\n        if (!routeMatch) {\n            return false;\n        }\n        const decode = (param)=>{\n            try {\n                return decodeURIComponent(param);\n            } catch (_) {\n                throw new _utils.DecodeError('failed to decode param');\n            }\n        };\n        const params = {\n        };\n        Object.keys(groups).forEach((slugName)=>{\n            const g = groups[slugName];\n            const m = routeMatch[g.pos];\n            if (m !== undefined) {\n                params[slugName] = ~m.indexOf('/') ? m.split('/').map((entry)=>decode(entry)\n                ) : g.repeat ? [\n                    decode(m)\n                ] : decode(m);\n            }\n        });\n        return params;\n    };\n}\n\n"]},"metadata":{},"sourceType":"script"}